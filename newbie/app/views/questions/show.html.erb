<div class="container">

	<div class="col-md-10">

		<div class="row">

			<section class="fold">
				<br>

				<a><%=link_to "Home", languages_path%></a>  > <%=@language.name%>

			</section>

		</div>

		<div class="row">
				<br>

				<div class="question_title"><%=@question.title%></div>

		</div>

		<div class="row question_description">

				<br>

					<%=@question.description%>

				<br>

		</div>

		<div class="row">

				<br>

				<code><%=@question.answer.code%></code>

		</div>


	</div>

</div>



<script>






///////////////////////////////////////////////////////////////// Search

///////////////////////////////////////////////////////////////// Search


var searchTerm;


$("#submit").click(function() {

	var responseHolder = []
	console.log(responseHolder)

	  var searchTerm = $('#tags').val();

	  $("#content").nextAll().remove()
		$("#placeHolder").append("<div>Search Results</div>")


			$.ajax({
			type: 'GET',
			dataType: 'json',
			url: "http://localhost:3000#"
		}).done(function(response) {
			      for (i = 0; i < response.length; i++) {
						var responseSearcher = (response[i][0].includes(searchTerm))  //if the reponse object's title and search term match, make reponseSearcher true
						if (responseSearcher == 1) { //if responseSearcher is true,
							responseHolder.push({label:response[i][0], value:response[i][1]}) //push the response object's title and link into responseHolder
							$("#placeHolder").append("<div><a href='" + response[i][1] + "'>" + response[i][0] + "</a></div>");
							//}
						}
					}
		});
});


/////////////////////////////////////////////////////////////////

$(function() {


	var questions = [];

	$.ajax({
		type: 'GET',
		dataType: 'json',
		url: "http://localhost:3000#"
	}).done(function(response) {
			console.log(response);
			for (i = 0; i < response.length; i++) {
					questions.push({label:response[i][0], value:response[i][1]})
			}

			$( "#tags" ).autocomplete({
				source: questions,
				select: function(event, ui) {
					var destination = ui.item.value
					window.location.assign(destination)
					this.value = "";
					return false;
				}
			});

		});
});

jQuery.ui.autocomplete.prototype._resizeMenu = function () {
  var ul = this.menu.element;
  ul.outerWidth(this.element.outerWidth());
}

</script>
